[
  {
    "name": "Dump my db",
    "kind": "mysql",
    "context": {
      "sourceUser": "${SOURCE_DB_USER}",
      "sourcePassword": "${SOURCE_DB_PASS}",
      "sourceHost": "localhost",
      "sourcePort": "3306",
      "sourceDbName": "blog",
      "targetUser": "${TARGET_DB_USER}",
      "targetPassword": "${TARGET_DB_PASS}",
      "targetHost": "localhost",
      "targetPort": "3306",
      "targetDbName": "blog_copy",
      "mysqlDumpVersion": "8 or 5",
      "beforeDump": [
        "UPDATE `user` SET `password`='000000', SET `email`=CONCAT(`id`,'@anonym.me')"
      ],
      "outputPath": "dumps",
      "dumps": [
        {
          "ignoreTables": [
            "statistics",
            "sales",
            "users"
          ]
        },
        {
          "table": "users",
          "where": "id<20"
        },
        {
          "table": "sales",
          "where": "1 ORDER BY date ASC LIMIT 10"
        },
        {
          "table": "private_data",
          "flags": [
            "--no-data"
          ]
        }
      ],
      "isGzipped": true,
      "cleanTargetDb": true
    },
    "period": "@daily,0 30 * * * *,@hourly,@every 1h30m,@yearly,@monthly,@weekly"
  },
  {
    "name": "Dump my file",
    "kind": "tar",
    "context": {
      "paths": [
        "folder1",
        "folder2"
      ],
      "outputPath": "dumps",
      "gzipBin": "mysqldump"
    },
    "period": "@daily,0 30 * * * *,@hourly,@every 1h30m,@yearly,@monthly,@weekly"
  }
]
